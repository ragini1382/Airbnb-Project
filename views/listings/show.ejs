<% layout("/layouts/boilerplate")%>
<body>
  <h3>Listing details</h3>
  <ul>
    <li><%= listing.title %></li>
    <li><%= listing.description %></li>
    <li>&#8377;<%= listing.price.toLocaleString("en-IN") %></li>
    <li><%= listing.location %></li>
    <li><%= listing.country %></li>
  </ul>
  <br />
  <a href="/listings/<%= listing._id%>/edit">Edit this List</a>
  <br /><br />
  <form method="POST" action="/listings/<%= listing._id%>?_method=DELETE">
    <button id="deleteButton">Delete this listing</button>
    <script>
      // Get the delete button element
      const deleteButton = document.getElementById("deleteButton");

      // Add a click event listener to the delete button
      deleteButton.addEventListener("click", function () {
        // When the delete button is clicked, show a confirmation prompt
        const isConfirmed = window.confirm(
          "Are you sure you want to delete this item?"
        );

        // Check if the user confirmed the deletion
        if (isConfirmed) {
          // Execute the deletion logic here
          // For example, you can make an AJAX request to delete the item from the server
          console.log("Item deleted!");
        } else {
          // If the user cancels the deletion, do nothing or provide feedback
          console.log("Deletion canceled.");
        }
      });
    </script>
  </form>
</body>
